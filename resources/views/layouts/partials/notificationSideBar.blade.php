    <!-- START Notification Sidebar-->
    <aside id="notification-sidebar" class="notification-sidebar d-none d-sm-none d-md-block"><a class="notification-sidebar-close"><i class="icon-remove-sign font-medium-3"></i></a>
      <div class="side-nav notification-sidebar-content ps-container ps-theme-dark" data-ps-id="c4637e87-23f1-83ae-bd5f-51e078fbe53a">
        <div class="row">
          <div class="col-12 mt-1">
            <ul class="nav nav-tabs">
              <li class="nav-item"><a id="base-tab1" data-toggle="tab" aria-controls="tab1" href="#activity-tab" aria-expanded="true" class="nav-link active">Atividade Recente</a></li>
            </ul>
            <div class="tab-content px-1 pt-1">
              <div id="activity-tab" role="tabpanel" aria-expanded="true" aria-labelledby="base-tab1" class="tab-pane active">
                <div id="activity" class="col-12 timeline-left">
                  <h6 class="mt-1 mb-3 text-bold-400">Agendamentos mais recentes</h6>
                  <div id="timeline" class="timeline-left timeline-wrapper">
                    <ul class="timeline">
                      <li class="timeline-line"></li>
                      
                      <li class="timeline-item">
                          <div class="timeline-badge"><span data-toggle="tooltip" data-placement="right" title="Agendamento" class="bg-success bg-lighten-1"><i class="icon-check"></i></span></div>
                          <div class="col s9 recent-activity-list-text"><a href="/agendamentos/detalhes/1210962" class="green-text medium-small">3&nbsp;horas, 38&nbsp;minutos</a>
                            <p class="mt-0 mb-2 fixed-line-height font-weight-300 medium-small">Nutricionista Valéria Furchi: </p>
                          </div>
                      </li>
                      
                      <li class="timeline-item">
                        <div class="timeline-badge"><span data-toggle="tooltip" data-placement="right" title="Agendamento Cancelado" class="bg-red bg-lighten-1"><i class="icon-trash"></i></span></div>
                        <div class="col s9 recent-activity-list-text"><a href="/agendamentos/detalhes/1211869" class="deep-orange-text medium-small">3&nbsp;horas, 38&nbsp;minutos</a>
                          <p class="mt-0 mb-2 fixed-line-height font-weight-300 medium-small">Nutricionista Valéria Furchi None: 25/10/2022 08:00</p>
                        </div>
                      </li>
                      
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      <div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 3px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; right: 3px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 0px;"></div></div></div>
    </aside>
    <!-- END Notification Sidebar-->

    <!-- included 12/10/2022-->
    <script type="text/javascript" src="{{ asset('admin/js/vendor/select2/select2.full.js')}}"></script>
    <script type="text/javascript" src="{{ asset('django_addanother/django_jquery.js')}}"></script>
    <script type="text/javascript" src="{{ asset('autocomplete_light/autocomplete_light.min.js')}}"></script>
    <script type="text/javascript" src="{{ asset('admin/js/admin/RelatedObjectLookups.js')}}"></script>
    <script type="text/javascript" src="{{ asset('autocomplete_light/select2.min.js')}}"></script>
    <script type="text/javascript" src="{{ asset('autocomplete_light/i18n/pt-BR.js')}}"></script>
    <!-- BEGIN VENDOR JS-->
    <script src="{{ asset('assets/vendors/js/core/jquery-3.6.0.min.js?v32b')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/core/popper.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/core/bootstrap.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/pickadate/picker.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/pickadate/picker.date.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/pickadate/picker.time.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/pickadate/legacy.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/pace/pace.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/perfect-scrollbar.jquery.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/prism.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/jquery.matchHeight-min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/screenfull.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/jquery-ui-1.13.2/jquery-ui.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/sweetalert2.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/jquery.steps.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/vendors/js/jquery.validate.min.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/waitmewaitMe.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/waitmewaitMe.min.js')}}" type="text/javascript"></script>

	<!-- END VENDOR JS-->
    <script src="{{ asset('assets/js/chat.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/sweet-alerts.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/app-sidebar.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/notification-sidebar.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/customizer.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/spinner.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/validation.js')}}"></script>
    <script src="{{ asset('assets/js/script.js')}}" type="text/javascript"></script>
    <script src="{{ asset('assets/js/create_appointment.js')}}"></script>
    <script src="{{ asset('assets/js/organization.js')}}"></script>
    <script src="{{ asset('assets/js/jquery.mask.min.js')}}"></script>
    <script src="{{ asset('assets/js/jquery.cookie.min.js')}}"></script>
    <script src="{{ asset('assets/js/get_cep.js')}}"></script>
	<!--<script src="{{ asset('assets/js/wizard-steps.js')}}" type="text/javascript"></script>-->
	<!--<script src="{{ asset('assets/vendors/js/moment.min.js')}}" type="text/javascript"></script>-->
  <!--<script src="{{ asset('assets/vendors/js/jquery-ui.min.js')}}" type="text/javascript"></script>-->
    <!--CALENDAR-->
    <script src="{{ asset('assets/calendar/packages/core/main.js')}}"></script>
    <script src="{{ asset('assets/calendar/packages/daygrid/main.js')}}"></script>
    <script src="{{ asset('assets/calendar/packages/core/locales-all.js')}}"></script>
    <script src="{{ asset('assets/calendar/packages/interaction/main.js')}}"></script>
    <script src="{{ asset('assets/calendar/packages/timegrid/main.js')}}"></script>
    <script src="{{ asset('assets/calendar/packages/list/main.js')}}"></script>
    <script src="{{ asset('assets/js/calendar.js')}}"></script>

  <script type="text/javascript">
      jQuery.extend( jQuery.fn.pickadate.defaults, {
      monthsFull: [ 'Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro' ],
      monthsShort: [ 'jan', 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez' ],
      weekdaysFull: [ 'Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado' ],
      weekdaysShort: [ 'dom', 'seg', 'ter', 'qua', 'qui', 'sex', 'sab' ],
      today: 'Hoje',
      clear: 'Limpar',
      close: 'Fechar',
      format: 'd !de mmmm !de yyyy',
      formatSubmit: 'yyyy/mm/dd'
    });

    jQuery.extend( jQuery.fn.pickatime.defaults, {
        clear: 'Limpar'
    });
  </script>
    
    <script type="text/javascript">
   //var organization = guila;
   $('html').bind('keypress', function(e)
    {
       if(e.keyCode == 13)
       {
          event.preventDefault();
          find_person()
          return false;
       }
    });

   function ajax_refresh_dates()
   {
      var url = '/agendamentos/available_days/';  // get the url of the `load_cities` view
      var app_type_id = $("#id_agenda").val();
      var app_subtype_id = $("#id_servico").val();
      $("#id_hora").empty()
      $("#id_dia").empty()

      if(app_type_id>0){

      $.ajax({                       // initialize an AJAX request
        url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
        data: {
          'app_type_id':app_type_id,
          'app_subtype_id':app_subtype_id,
          'internal':true
        },
        success: function (data) {   // `data` is the return of the `load_cities` view function
          $("#id_dia").html(data);  // replace the contents of the city input with the data that came from the server
        }
      })
    }

   }
   $("#id_agenda").change(function () {
      //var url = '/agendamentos/services/';  // get the url of the `load_cities` view
      var url = '/agendamentos/appointment_form/';
      var appId = $(this).val();  // get the selected country ID from the HTML input
      var organization_id = "guila";
      $("#id_servico").empty()
      $("#id_dia").empty()
      $("#id_hora").empty()
      if(appId>0){
        $.ajax({                       // initialize an AJAX request
          url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
          data: {
            'app_type_id': appId,       // add the country id to the GET parameters
            'organization':organization_id,
            'internal':true
          },
          success: function (data) {   // `data` is the return of the `load_cities` view function
            $("#form_agenda").html(data);
            //$("#id_servico").html(data);  // replace the contents of the city input with the data that came from the server
            //if($("#id_servico > option").length==1){
            //  document.getElementById("id_servico").style.display = "none";
            //}else{
            //  document.getElementById("id_servico").style.display = "block";
            //}
            ajax_refresh_dates()
          }
        });

        $.ajax({                       // initialize an AJAX request
          url: '/agendamentos/get_forms/',                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
          data: {
            'app_type_id': appId,       // add the country id to the GET parameters
            'organization':organization_id,
            'internal':true,
            'person_id':$('#person_id').val()
          },
          success: function (data) {   // `data` is the return of the `load_cities` view function
            $("#form_dados").html(data);  // replace the contents of the city input with the data that came from the server
          }
        });
    }
      //inicializar formulário de dados pessoais

    });

   $("#form_agenda").on('change','#id_servico',function () {
      var url = '/agendamentos/available_time_new/';  // get the url of the `load_cities` view
      var dayId = $("#id_dia").val();  // get the selected country ID from the HTML input
      var app_type_id = $("#id_agenda").val();
      var app_subtype_id = $("#id_servico").val();
      $("#id_hora").empty()
      if (app_type_id > 0 && app_type_id>0){
        $.ajax({                       // initialize an AJAX request
          url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
          data: {
            'day_id': dayId,       // add the country id to the GET parameters
            'app_type_id':app_type_id,
            'app_subtype_id':app_subtype_id,
            'internal':true
          },
          success: function (data) {   // `data` is the return of the `load_cities` view function
            $("#id_hora").html(data);  // replace the contents of the city input with the data that came from the server
          }
        });
      }
    });


   $("#form_agenda").on('change','#id_dia', function () {
      var url = '/agendamentos/available_time_new/';  // get the url of the `load_cities` view
      var dayId = $(this).val();  // get the selected country ID from the HTML input
      var app_type_id = $("#id_agenda").val();
      var app_subtype_id = $("#id_servico").val();
      $("#id_hora").empty()
      if(dayId>0){
        $.ajax({                       // initialize an AJAX request
          url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
          data: {
            'day_id': dayId,       // add the country id to the GET parameters
            'app_type_id':app_type_id,
            'app_subtype_id':app_subtype_id,
            'internal':true
          },
          success: function (data) {   // `data` is the return of the `load_cities` view function
            $("#id_hora").html(data);  // replace the contents of the city input with the data that came from the server
          }
        });
      }
    });

</script>

<script type="text/javascript">
 $(document).ready(function() {

    $('#nova_data').pickadate({
        format: 'dd/mm/yyyy', 
        formatSubmit: 'dd/mm/yyyy',
        
      });
      
});

</script>

<script type="text/javascript">
   var available_dates = "[]";
   var appointment_type = "2226";
   var id_agenda = "";
   var slot_duration = "0:30:00";
   var scroll_time = "08:00:00";
   var default_date = "";

   window.onload = function () {
    $('.fc-toolbar.fc-header-toolbar').addClass('row col-lg-12');
    };
    document.querySelector('style').textContent += "@media screen and (max-width:767px) { .fc-toolbar.fc-header-toolbar {flex-direction:column;} .fc-toolbar-chunk { display: table-row; text-align:center; padding:5px 0; } }";

 $(document).ready(function() {

    $('#nova_data').pickadate({
        format: 'dd/mm/yyyy', 
        formatSubmit: 'dd/mm/yyyy',
        
      });
      
});


    function troca_view(argument) {
      // body...
      if (document.getElementById("matriz").style.display == "none"){
          document.getElementById("matriz").style.display = "block";
          document.getElementById("tabela").style.display = "none";
      }else{
        document.getElementById("matriz").style.display = "none";
          document.getElementById("tabela").style.display = "block";
      }

    }

function filtra_tabela() {
  // Declare variables
  var input, filter, table, tr, td, i, txtValue;
  input = document.getElementById("lista_status");
  filter = input.value.toUpperCase();
  table = document.getElementById("tabela_agendamentos");
  tr = table.getElementsByTagName("tr");

  index_status = tr[0].getElementsByTagName('th').table_status.cellIndex
  // Loop through all table rows, and hide those match the search query
  for (i = 0; i < tr.length; i++) {
    td = tr[i].getElementsByTagName("td")[index_status];
    
    if (td) {
      txtValue = td.textContent || td.innerText;
      console.log(txtValue)
      console.log('filtro',filter)
      console.log(txtValue.toUpperCase().indexOf(filter))
      if (filter=="TODOS"){
        tr[i].style.display = "";
      } else if (txtValue.toUpperCase().indexOf(filter) > -1) {
        tr[i].style.display = "";
      } else if (filter=="CONFIRMADO" & txtValue=="") {
        tr[i].style.display = "";
      }else {
        tr[i].style.display = "none";
      }
    }
  }
}
</script>
